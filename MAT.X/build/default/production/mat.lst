MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;
                      00002 ; * machine à thé
                      00003 ; * Copyright 2016, Jacques Deschenes
                      00004 ; * 
                      00005 ; * This file is part of machineathe project.
                      00006 ; * 
                      00007 ; * ***  LICENCE ****
                      00008 ; * This program is free software; you can redistribute it and/or modify
                      00009 ; * it under the terms of the GNU General Public License as published by
                      00010 ; * the Free Software Foundation; either version 3 of the License, or
                      00011 ; * (at your option) any later version.
                      00012 ; * 
                      00013 ; * This program is distributed in the hope that it will be useful,
                      00014 ; * but WITHOUT ANY WARRANTY; without even the implied warranty of
                      00015 ; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
                      00016 ; * GNU General Public License for more details.
                      00017 ; * 
                      00018 ; * You should have received a copy of the GNU General Public License
                      00019 ; * along with this program; See 'copying.txt' in root directory of source.
                      00020 ; * If not, write to the Free Software Foundation,
                      00021 ; * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
                      00022 ; *  
                      00023 ; * to contact the author:  jd_temp@yahoo.fr
                      00024 ; * 
                      00025  ;
                      00026 ; MAT
                      00027 ; Machine à Thé.
                      00028 ; Description:  Machine avec minuterie pour le trempage d'un sachet de thé.
                      00029 ;   1 bouton pour réglé la durée en multiple de 15 secondes
                      00030 ;   1 bouton pour le démarrage de la séquence
                      00031 ;   1 servo moteur relié à un levier auquel est attaché le sachet. Le sachet est
                      00032 ;   descendu dans la tasse au début de la séquence et remonter à la fin.
                      00033 ;   1 affichage barre de DEL pour indiqué le temps.
                      00034 ;   1 haut-parleur pour l'arlame indiquant la fin de la séquence.
                      00035 ;
                      00036  
                      00037     include p16f1703.inc
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : May 15 2016
                      00005 ;  MPASM PIC16F1703 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2016 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      01152         LIST
                      00038 
                      00039 ;;;;;;;;;;;;;;
                      00040 ; config  bits
                      00041 ;;;;;;;;;;;;;;
8007   39E4           00042     __config  _CONFIG1, _FOSC_INTOSC & _WDTE_OFF & _PWRTE_OFF & _MCLRE_ON & _CP_OFF & _BOREN_OFF & _CLKO
                            UTEN_OFF
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

8008   1E7F           00043     __config  _CONFIG2, _WRT_OFF & _PPS1WAY_ON & _ZCDDIS_OFF & _PLLEN_OFF & _STVREN_ON & _LPBOR_OFF & _L
                            VP_OFF  
                      00044     
                      00045 #define TONE_PIN RA1 ; sortie alarme    
                      00046 #define SERVO_PIN RA2 ; sortie contrôle servo moteur  
                      00047 #define TONE_LAT LATA
                      00048 #define SERVO_LAT LATA    
                      00049 #define TONE_TRIS TRISA
                      00050 #define SERVO_TRIS TRISA
                      00051 #define SERVO_WPU WPUA    
                      00052 #define TONE_WPU WPUA    
                      00053 #define TONE_PIN_PPS RA1PPS
                      00054 #define TONE_OUT_FN  H'C' ; PWM1
                      00055 #define TONE_CCPRL  CCPR1L
                      00056 #define TONE_CCPCON  CCP1CON    
                      00057 #define SERVO_PIN_PPS RA2PPS
                      00058 #define SERVO_OUT_FN H'D'   ; PWM2
                      00059 #define SERVO_CCPRL CCPR2L
                      00060 #define SERVO_CCPCON CCP2CON    
                      00061 #define START_PIN   RA5 ; bouton start sur RA5
                      00062 #define START_TRIS TRISA
                      00063 #define START_PORT PORTA    
                      00064 #define TIMESET_PIN RA4 ; bouton time set sur RA4
                      00065 #define TIMESET_TRIS TRISA    
                      00066 #define TIMESET_PORT PORTA    
                      00067 #define START_IOCN IOCAN ;registre détection transition négative
                      00068 #define START_IOCF IOCAF ;registre indication interruption
                      00069 #define BTN_TRIS TRISA 
                      00070 #define BTN_PORT PORTA    
                      00071 #define BTN_WPU  WPUA    
                      00072 #define DISPLAY PORTC ; port barre de LED
                      00073 #define DISP_TRIS TRISC
                      00074 #define DISP_LAT  LATC
                      00075 #define DISP_WPU  WPUC
                      00076     
                      00077 ; broches des anodes LED    
                      00078 #define A1      RC0
                      00079 #define A2      RC0
                      00080 #define A3      RC0    
                      00081 #define A4      RC1
                      00082 #define A5      RC1
                      00083 #define A6      RC1    
                      00084 #define A7      RC2
                      00085 #define A8      RC2
                      00086 #define A9      RC2    
                      00087 #define A10     RC3    
                      00088 ; broches des cathodes LED    
                      00089 #define C1      RC5
                      00090 #define C2      RC4
                      00091 #define C3      RC3
                      00092 #define C4      RC5
                      00093 #define C5      RC4
                      00094 #define C6      RC3
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00095 #define C7      RC5
                      00096 #define C8      RC4
                      00097 #define C9      RC3
                      00098 #define C10     RC2
                      00099 ;indicateurs booléens 
                      00100 #define F_SEC    0 ; minuterie seconde 1=active, 0=inactive
                      00101 #define F_MSEC4  1 ; minuterie msec4 1=active, 0=inactive    
                      00102 
                      00103 #define ALARM_TABLE  SOLDOMI    
                      00104 
                      00105 ;#define DEBUG  
                      00106     
                      00107 ;;;;;;;;;;;;;;    
                      00108 ; constantes
                      00109 ;;;;;;;;;;;;;;
  000E                00110     constant F8MHZ=0xE ; valeur de OSCCON:IRCF pour 8Mhz
  000C                00111     constant F2MHZ=0xC ; valeur de OSSCCON:IRCF pour 2Mhz
  0EA6                00112     constant TIME_INCR = .15000/.4 ; incrément de 15 secondes
  927C                00113     constant TIME_MAX = TIME_INCR*.10 ; 150 secondes
  0006                00114     constant TMR0_DLY=.256-.250      ; compte pour TMR0
  8300                00115     constant TMR1_DLY=.65536-.32000  ; compte pour TMR1H:TMR1L
  009B                00116     constant SERVO_PERIOD=.155       ; compte pour PR2
  002F                00117     constant SERVO_NEUTRAL_PULSE=.47 ; compte pour CCP2RL:CCP2CON:DC2B
  0034                00118     constant SERVO_POS_BAS=.52       ; " 
  003C                00119     constant SERVO_POS_HAUT=.60      ; "
  0003                00120     constant SERVO_DLY=.3  ; contrôle vitesse de rotation
                      00121 ;;;;;;;;;;;;;;    
                      00122 ; macros    
                      00123 ;;;;;;;;;;;;;;
                      00124 ; macros pour la gestion de la pile des arguments
                      00125 pushw macro ; empile WREG  ( -- n )
                      00126     movwi ++FSR1
                      00127     endm
                      00128     
                      00129 popw macro ; dépile dans WREG ( n -- )
                      00130     moviw FSR1--
                      00131     endm
                      00132 drop macro ; jette le sommet de la pile
                      00133     addfsr FSR1,-1&0x3f
                      00134     endm
                      00135     
                      00136 over macro ; copie 2ième élément de la pile  ( n2 n1 - n2 n1 n2)
                      00137     moviw (-1)&0x3f[FSR1]
                      00138     pushw
                      00139     endm
                      00140  
                      00141 dup macro ; copie TOS   ( n -- n n )
                      00142     moviw 0[FSR1]
                      00143     movwi ++FSR1
                      00144     endm
                      00145     
                      00146     
                      00147 ; toutes les pins du port DISP_PORT sont mises en mode entrée
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00148 ; avec weak pullup actif
                      00149 display_disable macro
                      00150     movlw 0x3f
                      00151     banksel DISP_TRIS
                      00152     movwf DISP_TRIS
                      00153     banksel DISP_WPU
                      00154     movwf DISP_WPU
                      00155     endm
                      00156 
                      00157 ; désactivation des weak pullup pour ne pas interférer avec
                      00158 ; le charlieplexing.
                      00159 display_enable macro
                      00160     banksel DISP_WPU
                      00161     clrf DISP_WPU
                      00162     endm
                      00163 
                      00164 
                      00165 ; le canal PWM de l'alarme est désactivé.
                      00166 ; les broches TONE_PIN et ENV_PIN misent en mode entrée avec
                      00167 ; weak pullup
                      00168 alarm_disable macro
                      00169     banksel TONE_TRIS ; tous les TRISx sont dans la même banque
                      00170     bsf TONE_TRIS, TONE_PIN
                      00171     bsf ENV_TRIS, ENV_PIN
                      00172     banksel TONE_WPU  ; tous les WPUx sont dans la même banque
                      00173     bsf TONE_WPU, TONE_PIN
                      00174     bsf ENV_WPU, ENV_PIN
                      00175     banksel TONE_CON
                      00176     bcf TONE_CON, TONE_OE ; désactive sortie PWM
                      00177     endm
                      00178     
                      00179 ;;;;;;;;;;;;;;
                      00180 ; variables
                      00181 ;;;;;;;;;;;;;;
                      00182     udata
0000                  00183 stack res 16
                      00184  
                      00185     udata_shr
                      00186 ; 2 accumulateur 16 bits
0000                  00187 ACAL res 1   ; accumulateur A octet poids faible
0001                  00188 ACAH res 1  ; accumulateur A octet poids fort
0002                  00189 ACBL res 1  ; accumulateur B  octet poids faible
0003                  00190 ACBH res 1  ; accumulateur B  octet poids fort
0004                  00191 trempage res 1 ; durée du trempage en secondes 
0005                  00192 secondes res 1 ; compte à rebours secondes, interruption TIMER1
0006                  00193 msec4 res 1 ; compte à rebours décrément 4 msec, interruption TIMER0
0007                  00194 pwm_period res 1 ; période pour contrôler l'intensité du segment LED 
0008                  00195 flags res 1; indicateurs booléens.
0009                  00196 temp res 1 ; variable temporaire 
000A                  00197 last_pos res 1 ; dernière commande envoyée au servo-moteur 
                      00198 ;;;;;;;;;;;;;;
                      00199 ; code
                      00200 ;;;;;;;;;;;;;;
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00201     code 
                      00202     org 0
                      00203 ; vecteur reset    
0000                  00204 rst:
0000   2???           00205     goto init
0001   0000           00206     nop
0002   0000           00207     nop
0003   0000           00208     nop
                      00209 ; service des interruptions    
                      00210     org 4
0004                  00211 isr:
0004   1E8B           00212     btfss INTCON, T0IE
0005   3???           00213     bra test_tmr1
0006   190B           00214     btfsc INTCON, T0IF
0007   3???           00215     bra isr_timer0
0008                  00216 test_tmr1:
0008   1F0B           00217     btfss INTCON, PEIE
0009   3???           00218     bra isr_exit ; interruption non traitée.
000A   0020           00219     banksel PIR1
000B   1C11           00220     btfss PIR1, TMR1IF
000C   3???           00221     bra isr_exit ; interuption non traité
000D                  00222 isr_timer1: ; répond à l'interuption sur TIMER1, intervalle 1 secondes
000D   1011           00223     bcf PIR1, TMR1IF
000E   0020           00224     banksel TMR1L
000F   3000           00225     movlw low TMR1_DLY
0010   0096           00226     movwf TMR1L
0011   3083           00227     movlw high TMR1_DLY
0012   0097           00228     movwf TMR1H
0013   0B??           00229     decfsz secondes,F
0014   3???           00230     bra isr_exit
                      00231 ; minuterie expiré désactive interuption
0015   1000           00232     bcf flags, F_SEC
0016   0021           00233     banksel PIE1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0017   1011           00234     bcf PIE1,TMR1IE
0018   130B           00235     bcf INTCON, PEIE
0019   1E8B           00236     btfss INTCON, T0IE ; déscative toutes interruption
001A   0020           00237     banksel T1CON
001B   1018           00238     bcf T1CON, TMR1ON  ; arrête TIMER1
001C   138B           00239     bcf INTCON, GIE    ; si TIMER0 n'est pas en cours d'utilisation
001D   3???           00240     bra isr_exit
001E                  00241 isr_timer0: ; répond à l'innterruption sur TIMER0, intervalle 4 msec.   
001E   0020           00242     banksel TMR0
001F   3006           00243     movlw TMR0_DLY
0020   0095           00244     movwf TMR0
0021   110B           00245     bcf INTCON,T0IF
0022   0B??           00246     decfsz msec4,F
0023   3???           00247     bra isr_exit
0024                  00248 disable_timer:    
0024   1080           00249     bcf flags, F_MSEC4
0025   128B           00250     bcf INTCON,T0IE
0026   1F0B           00251     btfss INTCON, PEIE
0027   138B           00252     bcf INTCON, GIE   ;si TIMER1 n'est pas utilisé présentiment
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0028                  00253 isr_exit:    
0028   0009           00254     retfie
                      00255     
0029                  00256 init:
                      00257 ; fréquence clock à 8Mhz
0029   0021           00258     banksel OSCCON
002A   3070           00259     movlw F8MHZ<<IRCF0  ; Fosc 8Mhz
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002B   0099           00260     movwf OSCCON
                      00261 ; initialisation pointeur de la pile des arguments
002C   30??           00262     movlw high stack
002D   0087           00263     movwf FSR1H
002E   30??           00264     movlw low stack
002F   0086           00265     movwf FSR1L
                      00266 ; assignation des périphériques au broches
                      00267 ; PWM1 sur TONE_PIN   
0030   003D           00268     banksel TONE_PIN_PPS
0031   300C           00269     movlw TONE_OUT_FN  ; fonction PWM1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0032   0091           00270     movwf TONE_PIN_PPS   
                      00271 ; PWM2 sur SERVO_PIN
0033   003D           00272     banksel SERVO_PIN_PPS
0034   300D           00273     movlw SERVO_OUT_FN  ; fonction PWM2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0035   0092           00274     movwf SERVO_PIN_PPS
                      00275 ; veroullage PPS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0036   140F           00276     bsf PPSLOCK, 0
                      00277 ; activation low power sleep mode
0037   0023           00278     banksel VREGCON
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0038   1497           00279     bsf VREGCON, VREGPM
                      00280 ; enlever weak pullup sur broche sortie TONE
0039   0024           00281     banksel TONE_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003A   108C           00282     bcf TONE_WPU,TONE_PIN
                      00283 ; entrée analogique non utilisée
003B   0023           00284     banksel ANSELA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003C   018C           00285     clrf ANSELA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
003D   018E           00286     clrf ANSELC
                      00287 ;    display_disable
                      00288 ; configuration OPTION_REG TIMER0 prescale 64
003E   0021           00289     banksel OPTION_REG
003F   3004           00290     movlw 4 ; TIMER0 préscale 1:32
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0040   0095           00291     movwf OPTION_REG
                      00292 ; met SERVO_PIN en sortie bas voltage
0041   0021           00293     banksel SERVO_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   110C           00294     bcf SERVO_TRIS, SERVO_PIN
0043   0022           00295     banksel SERVO_LAT
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0044   110C           00296     bcf SERVO_LAT, SERVO_PIN
                      00297 ;variables à zéro
0045   01??           00298     clrf flags 
0046   01??           00299     clrf secondes
0047   01??           00300     clrf msec4
0048   303C           00301     movlw SERVO_POS_HAUT
0049   00??           00302     movwf last_pos
004A   2???           00303     call self_test
                      00304 
004B                  00305 main:
                      00306 ; activation interruption sur bouton START enfoncé
                      00307 ; ceci pour permettre la sortie du mode SLEEP en enfoncant ce bouton    
004B   0027           00308     banksel START_IOCF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004C   1293           00309     bcf START_IOCF, START_PIN ; remise à zéro indicateur interruption
004D   0027           00310     banksel START_IOCN
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
004E   1692           00311     bsf START_IOCN, START_PIN ;déclenchement interruption sur transition négative
004F   158B           00312     bsf INTCON, IOCIE  ; activation interruption sur transition broche.
0050   0063           00313     sleep
                      00314 ;désactivation IOCN
0051   118B           00315     bcf INTCON, IOCIE
0052   0027           00316     banksel START_IOCN
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0053   1292           00317     bcf START_IOCN,START_PIN
0054   0020           00318     banksel TIMESET_PORT
0055   1A0C           00319     btfsc TIMESET_PORT,TIMESET_PIN
0056   3???           00320     bra eveil_normal
                      00321 ;oeuf caché
0057   2???           00322     call un_oeuf
0058   3???           00323     bra main
0059                  00324 eveil_normal:  
0059   300F           00325     movlw .15
005A   00??           00326     movwf secondes
                      00327 ; tonalité d'éveil
005B   3014           00328     movlw .20
                      00329     pushw
005C   001C               M     movwi ++FSR1
005D   3001           00330     movlw 1
                      00331     pushw
005E   001C               M     movwi ++FSR1
005F   2???           00332     call tone
                      00333 ; ajustement du temps
0060   2???           00334     call timeset
                      00335 ; descente du sachet dans la tasse
0061   3034           00336     movlw SERVO_POS_BAS 
0062   2???           00337     call servo_pos
                      00338 ;   attend expiration de la minuterie
                      00339 ;   avec mise à jour de LED_BAR    
0063   2???           00340     call infusion
                      00341 ;   minuterie  expirée soulève le sachet    
0064   303C           00342     movlw SERVO_POS_HAUT
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0065   2???           00343     call servo_pos
                      00344 ;   sonne l'alarme
0066   2???           00345     call alarm
                      00346 ; lorsque la séquence est terminée retourne en sommeil
0067   3???           00347     bra main
                      00348     
                      00349     
                      00350 ;l'utilisateur doit ajuster le temps de trempage    
0068                  00351 timeset:
0068   08??           00352     movfw secondes
0069   00??           00353     movwf trempage
006A   0020           00354     banksel BTN_PORT
                      00355 ; attend qu'un bouton soit enfoncé.
006B                  00356 timeset_wait_btn:   
                      00357     display_enable
006B   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
006C   018E               M     clrf DISP_WPU
006D   08??           00358     movfw trempage
006E   2???           00359     call div15
006F   2???           00360     call light_segment
0070   3064           00361     movlw .100
0071   2???           00362     call pause_msec
0072   080C           00363     movfw BTN_PORT
0073   3930           00364     andlw (1<<START_PIN)|(1<<TIMESET_PIN)
0074   3A30           00365     xorlw (1<<START_PIN)|(1<<TIMESET_PIN)
0075   1903           00366     skpnz
0076   3???           00367     bra $-4
0077   1A09           00368     btfsc WREG,TIMESET_PIN
0078   3???           00369     bra add_time
0079   1A89           00370     btfsc WREG, START_PIN
007A   3???           00371     bra timeset_exit
007B   3???           00372     bra timeset_wait_btn
007C                  00373 add_time:
007C   300F           00374     movlw .15
Message[305]: Using default destination of 1 (file).
007D   07??           00375     addwf trempage
007E   3097           00376     movlw .151
007F   02??           00377     subwf trempage,W
0080   1803           00378     skpnc
0081   01??           00379     clrf trempage
0082   2???           00380     call beep
0083   3???           00381     bra timeset_wait_btn
0084                  00382 timeset_exit:
                      00383     display_disable
0084   303F               M     movlw 0x3f
0085   0021               M     banksel DISP_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0086   008E               M     movwf DISP_TRIS
0087   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0088   008E               M     movwf DISP_WPU
0089   2???           00384     call beep
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00385 ; attend relâchement du bouton    
008A   0020           00386     banksel BTN_PORT
008B   1E8C           00387     btfss BTN_PORT, START_PIN
008C   3???           00388     bra $-1
008D   0008           00389     return
                      00390 
                      00391 ; son court    
008E                  00392 beep:
008E   300A           00393     movlw .10
                      00394     pushw
008F   001C               M     movwi ++FSR1
0090   0103           00395     clrw
                      00396     pushw
0091   001C               M     movwi ++FSR1
0092   2???           00397     call tone
0093   0008           00398     return
                      00399     
                      00400 ;  attend expiration de la minuterie
                      00401 ;  mise à jour affichage
                      00402 #define RESTE ACAL    
0094                  00403 infusion:
0094   08??           00404     movfw trempage
0095   1903           00405     skpnz
0096   3???           00406     bra timeout
0097   2???           00407     call start_timer
                      00408     display_enable
0098   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0099   018E               M     clrf DISP_WPU
009A                  00409 wait_loop:
009A   0020           00410     banksel BTN_PORT
009B   1E8C           00411     btfss BTN_PORT, START_PIN ; cancellation si bouton enfoncé
009C   3???           00412     bra cancellation
009D   1C00           00413     btfss flags, F_SEC
009E   3???           00414     bra timeout
009F   08??           00415     movfw secondes
00A0   2???           00416     call div15
00A1   00??           00417     movwf temp
00A2   08??           00418     movf RESTE,F
00A3   1903           00419     skpnz
00A4   3???           00420     bra $+3
Message[305]: Using default destination of 1 (file).
00A5   0A??           00421     incf temp
00A6   3???           00422     bra $+3
00A7   300F           00423     movlw 0xf
00A8   00??           00424     movwf RESTE
                      00425 ; initialise période pour PWM intensité LED
00A9   300F           00426     movlw 0xf
00AA   00??           00427     movwf pwm_period
00AB                  00428 pwm_loop:
00AB   08??           00429     movf RESTE,F
00AC   1903           00430     skpnz
00AD   01??           00431     clrf temp
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00AE   08??           00432     movfw temp
00AF   2???           00433     call light_segment
00B0   08??           00434     movf RESTE,F
00B1   1D03           00435     skpz
00B2   03??           00436     decf RESTE,F
Message[305]: Using default destination of 1 (file).
00B3   03??           00437     decf pwm_period
00B4   1D03           00438     skpz
00B5   3???           00439     bra pwm_loop
00B6   3???           00440     bra wait_loop
00B7                  00441 cancellation:
00B7   1000           00442     bcf flags, F_SEC
00B8   128B           00443     bcf INTCON, T0IE
00B9   01??           00444     clrf secondes
00BA                  00445 timeout:    
                      00446     display_disable
00BA   303F               M     movlw 0x3f
00BB   0021               M     banksel DISP_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BC   008E               M     movwf DISP_TRIS
00BD   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00BE   008E               M     movwf DISP_WPU
00BF   0008           00447     return
                      00448 
                      00449 
                      00450 ; sonne l'alarme de fin de trempage    
00C0                  00451 alarm:
                      00452 ; initialition pointeur table CE3K
00C0   30??           00453     movlw high ALARM_TABLE
00C1   0085           00454     movwf FSR0H
00C2   1785           00455     bsf FSR0H,7
00C3   30??           00456     movlw low ALARM_TABLE
00C4   0084           00457     movwf FSR0L
00C5   0012           00458     moviw FSR0++
                      00459     pushw ;nombre de notes à jouer
00C6   001C               M     movwi ++FSR1
                      00460 ;sauvegarde du pointeur
00C7   0804           00461     movfw FSR0L
00C8   00??           00462     movwf ACAL
00C9   0805           00463     movfw FSR0H
00CA   00??           00464     movwf ACAH
00CB                  00465 alarm_loop:
                      00466 ;restauration du pointeur    
00CB   08??           00467     movfw ACAL
00CC   0084           00468     movwf FSR0L
00CD   08??           00469     movfw ACAH
00CE   0085           00470     movwf FSR0H
00CF   0012           00471     moviw FSR0++
                      00472     pushw  ; durée note
00D0   001C               M     movwi ++FSR1
00D1   0012           00473     moviw FSR0++
                      00474     pushw  ; indice note
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D2   001C               M     movwi ++FSR1
                      00475 ;sauvegarde du pointeur    
00D3   0804           00476     movfw FSR0L
00D4   00??           00477     movwf ACAL
00D5   0805           00478     movfw FSR0H
00D6   00??           00479     movwf ACAH
00D7   2???           00480     call tone
Message[305]: Using default destination of 1 (file).
00D8   0B81           00481     decfsz INDF1
00D9   3???           00482     bra alarm_loop
                      00483     popw
00DA   0017               M     moviw FSR1--
00DB   0008           00484     return
                      00485 
                      00486 ; fait entendre une tonalité
                      00487 ; entrée:  pile ( d n -- )
                      00488 ;    d -> durée en multiple de 4 msec.
                      00489 ;    n -> indice de la note dans la table SCALE    
00DC                  00490 tone:
                      00491 ; prépare FSR0 pour accéder table SCALE
00DC   30??           00492     movlw high SCALE
00DD   0085           00493     movwf FSR0H
00DE   1785           00494     bsf FSR0H,7
00DF   30??           00495     movlw low SCALE
00E0   0084           00496     movwf FSR0L
                      00497 ;ajoute l'indice de la note à FSR0    
                      00498     popw
00E1   0017               M     moviw FSR1--
Message[305]: Using default destination of 1 (file).
00E2   0784           00499     addwf FSR0L
00E3   3F00           00500     moviw 0[FSR0]
00E4   0020           00501     banksel PR2
00E5   009B           00502     movwf PR2  ;la valeur retirée de SCALE détermine la période PWM
                      00503     pushw       ;sauvegarde sur la pile temporairement
00E6   001C               M     movwi ++FSR1
Message[305]: Using default destination of 1 (file).
00E7   3689           00504     lsrf WREG   ; cette valeur divisé par 2 va dans CCPxL
00E8   0025           00505     banksel TONE_CCPRL
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00E9   0091           00506     movwf TONE_CCPRL   ; les 6 bits les plus significatifs du rapport cyclique
                      00507     popw
00EA   0017               M     moviw FSR1--
00EB   3901           00508     andlw 1    ; les 2 bites les moins significatifs du rapport cyclique
Message[305]: Using default destination of 1 (file).
00EC   3589           00509     lslf WREG
Message[305]: Using default destination of 1 (file).
00ED   0E89           00510     swapf WREG ; dans bits 4 et 5 de CCPxCON
00EE   380C           00511     iorlw (3<<CCP1M2) ; mode PWM
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00EF   0093           00512     movwf TONE_CCPCON  ; PWM configuré
                      00513 ; configuration de la sortie pour le PWM
00F0   0021           00514     banksel TONE_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F1   108C           00515     bcf TONE_TRIS, TONE_PIN ; broche en mode sortie
                      00516 ; activation minuterie TIMER2
00F2   0020           00517     banksel T2CON
00F3   3006           00518     movlw (2<<T2CKPS0)|(1<<TMR2ON)
00F4   009C           00519     movwf T2CON ; préscale 16 et TIMER2 on.
                      00520     popw     ; durée
00F5   0017               M     moviw FSR1--
00F6   2???           00521     call pause_msec  
                      00522 ;désactive tone pwm
                      00523 ;arrête TIMER2
00F7   0020           00524     banksel T2CON
00F8   111C           00525     bcf T2CON, TMR2ON
00F9   0025           00526     banksel TONE_CCPCON
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00FA   0193           00527     clrf TONE_CCPCON
00FB   0021           00528     banksel TONE_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00FC   148C           00529     bsf TONE_TRIS, TONE_PIN
00FD   0008           00530     return
                      00531     
                      00532 ; allume un segment de la barre LED
                      00533 ; entrée:
                      00534 ;   W contient le numéro du segment
                      00535 ;   à allumer
00FE                  00536 light_segment:
                      00537     pushw
00FE   001C               M     movwi ++FSR1
                      00538 ; initialise FSR0 pour pointer sur la table LED_CON
00FF   30??           00539     movlw high LED_CONN
0100   0085           00540     movwf FSR0H
0101   1785           00541     bsf FSR0H, 7
0102   30??           00542     movlw low LED_CONN
0103   0084           00543     movwf FSR0L
                      00544     popw
0104   0017               M     moviw FSR1--
Message[305]: Using default destination of 1 (file).
0105   3589           00545     lslf WREG   ; segment * 2
Message[305]: Using default destination of 1 (file).
0106   0784           00546     addwf FSR0L ; ajuste le pointeur de table
0107   0800           00547     movfw INDF0  ; obtient valeur sortie PORT
0108   0022           00548     banksel DISP_LAT
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0109   008E           00549     movwf DISP_LAT
Message[305]: Using default destination of 1 (file).
010A   0A84           00550     incf FSR0L
010B   0800           00551     movfw INDF0  ; obtient valeur TRIS
010C   0021           00552     banksel DISP_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
010D   008E           00553     movwf DISP_TRIS
010E   0008           00554     return
                      00555 
                      00556 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                      00557 ; commande la position du servo-moteur
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00558 ; NOTE:
                      00559     ; la fréquence de l'oscillateur est descendue à 2Mhz pour
                      00560     ; permettre une période de 20msec avec T2
                      00561     ; le préscale de T2 est programmé à 1/64
                      00562     ; la période T=(PR2+1)*4*Tosc*PS=156*4*5e-7*64=0,019968
                      00563     ; la résolution est de Tosc*64=5e-7*64/4=32µSec
                      00564 ;  entrée:
                      00565 ;      W contient la valeur de contrôle
                      00566 ;  valeur comprise entre SERVO_POS_BAS et SERVO_POS_HAUT
                      00567 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;    
010F                  00568 servo_pos:
                      00569     pushw
010F   001C               M     movwi ++FSR1
                      00570 ; contrôle des limites    
0110   3034           00571     movlw SERVO_POS_BAS
0111   0201           00572     subwf INDF1,W
0112   3034           00573     movlw SERVO_POS_BAS
0113   1C03           00574     skpc
0114   0081           00575     movwf INDF1
0115   303C           00576     movlw SERVO_POS_HAUT
0116   0201           00577     subwf INDF1,W
0117   303C           00578     movlw SERVO_POS_HAUT
0118   1803           00579     skpnc
0119   0081           00580     movwf INDF1
                      00581 ; pour obtenir une période de 50 Hertz sur TIMER2 il faut réduire
                      00582 ; Fosc à 2Mhz
011A   0021           00583     banksel OSCCON
011B   3060           00584     movlw F2MHZ<<IRCF0   ; Fosc=2Mhz
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
011C   0099           00585     movwf OSCCON
                      00586 ; configuration TIMER2 pour période 20 msec
011D   0020           00587     banksel T2CON
011E   309B           00588     movlw SERVO_PERIOD ; 20msec
011F   009B           00589     movwf PR2
0120   3007           00590     movlw (3<<T2CKPS0)|(1<<TMR2ON)
0121   009C           00591     movwf T2CON
                      00592 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;    
                      00593 ; pour contrôler la vitesse de rotation
                      00594 ; on part de valeur de l'ancienne commande
                      00595 ; en progressant vers la nouvelle valeur    
                      00596 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;    
                      00597 ;durée du pulse 8 bits les plus significatifs dans CCP2RL et les 
                      00598 ;2 moins significatifs dans CCP2CON:4,5
0122                  00599 servo_pos_loop:
0122   0025           00600     banksel SERVO_CCPCON
0123   36??           00601     lsrf last_pos,W
Message[305]: Using default destination of 1 (file).
0124   3689           00602     lsrf WREG
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0125   0098           00603     movwf SERVO_CCPRL
0126   0E??           00604     swapf last_pos,W
0127   3930           00605     andlw (3<<4)
0128   380C           00606     iorlw 3<<CCP2M2  ; mode PWM
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0129   009A           00607     movwf SERVO_CCPCON
                      00608 ; attend la fin du cycle
012A   3003           00609     movlw SERVO_DLY
012B   00??           00610     movwf ACAL
012C                  00611 delay:
012C   0020           00612     banksel PIR1
012D   1091           00613     bcf PIR1,TMR2IF
012E   1C91           00614     btfss PIR1,TMR2IF
012F   3???           00615     bra $-1
0130   0B??           00616     decfsz ACAL,F
0131   3???           00617     bra delay
0132   0801           00618     movfw INDF1
0133   02??           00619     subwf last_pos,W
0134   1903           00620     skpnz
0135   3???           00621     bra servo_pos_exit
0136   0801           00622     movfw INDF1
0137   02??           00623     subwf last_pos,W
0138   1C03           00624     skpc
0139   0A??           00625     incf last_pos,F
013A   1803           00626     skpnc
013B   03??           00627     decf last_pos,F
013C   3???           00628     bra servo_pos_loop
013D                  00629 servo_pos_exit:  
                      00630     popw
013D   0017               M     moviw FSR1--
                      00631 ;arret de la commande
                      00632 ;attend la fin du cycle PWM
013E   0020           00633     banksel PR2
013F   081B           00634     movfw PR2
0140   021A           00635     subwf TMR2,W
0141   1C03           00636     skpc
0142   3???           00637     bra $-3
0143   0025           00638     banksel SERVO_CCPCON
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0144   019A           00639     clrf SERVO_CCPCON
0145   0020           00640     banksel T2CON
0146   111C           00641     bcf T2CON, TMR2ON
                      00642 ;remet Fosc à 8Mhz    
0147   0021           00643     banksel OSCCON
0148   3070           00644     movlw F8MHZ<<IRCF0  ; Fosc=8Mhz
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0149   0099           00645     movwf OSCCON
014A   0008           00646     return
                      00647     
                      00648 ; division non signée entier 8 bits par 15
                      00649 ; entrée:
                      00650 ;   dividende dans W
                      00651 ;sortie:
                      00652 ;   quotient dans ACAH
                      00653 ;   reste dans ACAL    
                      00654 #define DIVIDENDE ACAL    
                      00655 #define QUOTIENT ACAH
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00656 #define DIVISEUR ACBL    
014B                  00657 div15:
014B   01??           00658     clrf QUOTIENT
014C   3A00           00659     xorlw 0
014D   1903           00660     skpnz
014E   3???           00661     bra div15_exit
014F   00??           00662     movwf DIVIDENDE
0150   30F0           00663     movlw 0xF0 ; diviseur<<4
0151   00??           00664     movwf DIVISEUR
0152   02??           00665     subwf DIVIDENDE,W
0153   1C03           00666     skpc
0154   3???           00667     bra div15_1
0155   1600           00668     bsf QUOTIENT,4
0156   00??           00669     movwf DIVIDENDE ; conserve reste pour prochaine étape
0157                  00670 div15_1:
Message[305]: Using default destination of 1 (file).
0157   36??           00671     lsrf DIVISEUR
0158   08??           00672     movfw DIVISEUR
0159   02??           00673     subwf DIVIDENDE,W
015A   1C03           00674     skpc
015B   3???           00675     bra div15_2
015C   1580           00676     bsf QUOTIENT,3
015D   00??           00677     movwf DIVIDENDE
015E                  00678 div15_2:
Message[305]: Using default destination of 1 (file).
015E   36??           00679     lsrf DIVISEUR
015F   08??           00680     movfw DIVISEUR
0160   02??           00681     subwf DIVIDENDE,W
0161   1C03           00682     skpc
0162   3???           00683     bra div15_3
0163   1500           00684     bsf QUOTIENT,2
0164   00??           00685     movwf DIVIDENDE
0165                  00686 div15_3:
Message[305]: Using default destination of 1 (file).
0165   36??           00687     lsrf DIVISEUR
0166   08??           00688     movfw DIVISEUR
0167   02??           00689     subwf DIVIDENDE,W
0168   1C03           00690     skpc
0169   3???           00691     bra div15_4
016A   1480           00692     bsf QUOTIENT,1
016B   00??           00693     movwf DIVIDENDE
016C                  00694 div15_4:
Message[305]: Using default destination of 1 (file).
016C   36??           00695     lsrf DIVISEUR
016D   08??           00696     movfw DIVISEUR
016E   02??           00697     subwf DIVIDENDE,W
016F   1803           00698     skpnc
0170   1400           00699     bsf QUOTIENT,0
0171                  00700 div15_exit:
0171   08??           00701     movfw QUOTIENT
0172   0008           00702     return
                      00703 
                      00704 ; démarre la minuterie des secondes
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00705 ; utilisation du TIMER1 avec LFOSC.    
                      00706 ; entrée:
                      00707 ;   W=durée en secondes    
0173                  00708 start_timer:
0173   00??           00709     movwf secondes
0174   0020           00710     banksel TMR1H
0175   3083           00711     movlw high TMR1_DLY
0176   0097           00712     movwf TMR1H
0177   3000           00713     movlw low TMR1_DLY
0178   0096           00714     movwf TMR1L
0179   30C1           00715     movlw (3<<TMR1CS0)|1
017A   0098           00716     movwf T1CON
017B   0020           00717     banksel PIR1
017C   1011           00718     bcf PIR1, TMR1IF
017D   0021           00719     banksel PIE1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
017E   1411           00720     bsf PIE1, TMR1IE
017F   170B           00721     bsf INTCON,PEIE
0180   178B           00722     bsf INTCON,GIE
0181   1400           00723     bsf flags, F_SEC
0182   0008           00724     return
                      00725 
                      00726     
                      00727 ; démarre la minuterie des millisecondes
                      00728 ; entrée:
                      00729 ;    W contient la durée en multiple de 4 msec.
0183                  00730 start_msec4_tmr:
0183   00??           00731     movwf msec4
0184   0020           00732     banksel TMR0
0185   3006           00733     movlw TMR0_DLY
0186   0095           00734     movwf TMR0
0187   110B           00735     bcf INTCON, T0IF
0188   168B           00736     bsf INTCON, T0IE
0189   178B           00737     bsf INTCON, GIE
018A   1480           00738     bsf flags, F_MSEC4
018B   0008           00739     return
                      00740 
                      00741 ;pause en multiple de 4 msec
                      00742 ; entrée:  W -> pause= 4*W msec   
018C                  00743 pause_msec:
018C   2???           00744     call start_msec4_tmr
018D   1880           00745     btfsc flags, F_MSEC4
018E   3???           00746     bra $-1
018F   0008           00747     return
                      00748     
                      00749 ;auto test à l'allumage
                      00750 ; allume tous les segments l'un après l'autre
                      00751 ; test alarme
                      00752 ; test servo-moteur
0190                  00753 self_test:
                      00754     display_enable
0190   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0191   018E               M     clrf DISP_WPU
0192   300A           00755     movlw .10
                      00756     pushw
0193   001C               M     movwi ++FSR1
0194                  00757 disp_test:
0194   3F40           00758     moviw 0[FSR1]
0195   2???           00759     call light_segment
0196   3019           00760     movlw .25
                      00761     pushw
0197   001C               M     movwi ++FSR1
                      00762     over
0198   3F7F               M     moviw (-1)&0x3f[FSR1]
                          M     pushw
0199   001C               M     movwi ++FSR1
019A   2???           00763     call tone
019B   0B81           00764     decfsz INDF1,F
019C   3???           00765     bra disp_test
                      00766     popw
019D   0017               M     moviw FSR1--
                      00767     display_disable
019E   303F               M     movlw 0x3f
019F   0021               M     banksel DISP_TRIS
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A0   008E               M     movwf DISP_TRIS
01A1   0024               M     banksel DISP_WPU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
01A2   008E               M     movwf DISP_WPU
01A3                  00768 tone_test:
01A3   3014           00769     movlw .20
                      00770     pushw
01A4   001C               M     movwi ++FSR1
01A5   3015           00771     movlw .21
                      00772     pushw
01A6   001C               M     movwi ++FSR1
01A7   2???           00773     call tone
01A8                  00774 servo_test:
01A8   3034           00775     movlw SERVO_POS_BAS
01A9   2???           00776     call servo_pos
01AA   303C           00777     movlw SERVO_POS_HAUT
01AB   2???           00778     call servo_pos
01AC   0008           00779     return
                      00780 
                      00781 ; easter egg    
01AD                  00782 un_oeuf:
01AD   30??           00783     movlw high HYMNE
01AE   0085           00784     movwf FSR0H
01AF   30??           00785     movlw low HYMNE
01B0   0084           00786     movwf FSR0L
01B1   0012           00787     moviw FSR0++
                      00788     pushw
01B2   001C               M     movwi ++FSR1
01B3                  00789 oeuf_loop:
01B3   0012           00790     moviw FSR0++
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00791     pushw
01B4   001C               M     movwi ++FSR1
01B5   0012           00792     moviw FSR0++
                      00793     pushw
01B6   001C               M     movwi ++FSR1
01B7   0804           00794     movfw FSR0L
01B8   00??           00795     movwf temp
01B9   2???           00796     call tone
01BA   08??           00797     movfw temp
01BB   0084           00798     movwf FSR0L
01BC   3019           00799     movlw .25
01BD   2???           00800     call pause_msec
Message[305]: Using default destination of 1 (file).
01BE   0B81           00801     decfsz INDF1
01BF   3???           00802     bra oeuf_loop
                      00803     drop
01C0   317F               M     addfsr FSR1,-1&0x3f
01C1   0008           00804     return
                      00805     
                      00806 ;;;;;;;;;;;;;;;;
                      00807 ;  tables
                      00808 ;;;;;;;;;;;;;;;;  
                      00809     org  0x700   
                      00810 ; connection des LED
                      00811 ; ordre inversé dans le montage final    
0700                  00812 LED_CONN: ; PORT data, TRIS data
0700   3400 34FF      00813     dt 0, 0xFF ; tous les segments éteints
0702   3408 34F3      00814     dt 1<<A10, ~(1<<C10 | 1<<A10)
0704   3404 34F3      00815     dt 1<<A9, ~(1<<C9 | 1<<A9)
0706   3404 34EB      00816     dt 1<<A8, ~(1<<C8 | 1<<A8)
0708   3404 34DB      00817     dt 1<<A7, ~(1<<C7 | 1<<A7)
070A   3402 34F5      00818     dt 1<<A6, ~(1<<C6 | 1<<A6)
070C   3402 34ED      00819     dt 1<<A5, ~(1<<C5 | 1<<A5)
070E   3402 34DD      00820     dt 1<<A4, ~(1<<C4 | 1<<A4)
0710   3401 34F6      00821     dt 1<<A3, ~(1<<C3 | 1<<A3)
0712   3401 34EE      00822     dt 1<<A2, ~(1<<C2 | 1<<A2)
0714   3401 34DE      00823     dt 1<<A1, ~(1<<C1 | 1<<A1)
0716   3400 34FF      00824     dt 0, 0xFF
0718   3400 34FF      00825     dt 0, 0xFF
071A   3400 34FF      00826     dt 0, 0xFF
071C   3400 34FF      00827     dt 0, 0xFF
071E   3400 34FF      00828     dt 0, 0xFF
                      00829 
                      00830 ;valeur de PR2 pour généré tonalités gamme tempéré
0720                  00831 SCALE:
0720   34EE           00832     dt .238 ;0: 523 DO
0721   34E1           00833     dt .225 ;1: 554 DO#
0722   34D4           00834     dt .212 ;2: 587 RÉ
0723   34C8           00835     dt .200 ;3: 622 RÉ#
0724   34BD           00836     dt .189 ;4: 659 MI
0725   34B2           00837     dt .178 ;5: 698 FA
0726   34A8           00838     dt .168 ;6: 740 FA#
0727   349E           00839     dt .158 ;7: 784 SOL
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0728   3495           00840     dt .149 ;8: 831 SOL#
0729   348D           00841     dt .141 ;9: 880 LA
072A   3485           00842     dt .133 ;10: 932 LA#
072B   347E           00843     dt .126 ;11: 988 SI
072C   3476           00844     dt .118 ;12: 1047 DO
072D   3470           00845     dt .112 ;13: 1109 DO#
072E   3469           00846     dt .105 ;14: 1175 RÉ
072F   3463           00847     dt .99  ;15: 1245 RÉ#
0730   345E           00848     dt .94  ;16: 1319 MI
0731   3458           00849     dt .88  ;17: 1397 FA
0732   3453           00850     dt .83  ;18: 1480 FA#
0733   344F           00851     dt .79  ;19: 1568 SOL
0734   344A           00852     dt .74  ;20: 1661 SOL#
0735   3446           00853     dt .70  ;21: 1760 LA
0736   3442           00854     dt .66  ;22: 1865 LA#
0737   343F           00855     dt .63  ;23: 1967 SI
0738   343B           00856     dt .59  ;24: 2093 DO
                      00857     
                      00858 ;5 première notes de rencontre du 3ième type
0739                  00859 CE3K:
0739   3406           00860     dt .6 ; nombre de notes
                      00861     ; durée, note
073A   3464 340E      00862     dt .100,.14
073C   3464 3410      00863     dt .100,.16
073E   3464 340C      00864     dt .100,.12
0740   3464 3400      00865     dt .100,.0
0742   34C8 3407      00866     dt .200,.7
0744   34C8 3407      00867     dt .200,.7
                      00868 
                      00869 ; 3 première note de la sonate au clair de lune
                      00870 ; de Beethoven
0746                  00871 SOLDOMI:
0746   3403           00872     dt .3 
0747   3464 3407      00873     dt .100,.7   ;sol
0749   3464 340C      00874     dt .100,.12  ;do
074B   3464 3410      00875     dt .100,.16  ;mi
                      00876 
                      00877 ; hymne à la joie de Beethoven    
074D                  00878 HYMNE:
074D   343E           00879     dt .62 ;nombre de notes
                      00880 ; 1ière mesure
074E   3464 3409      00881     dt .100,.9   ; la
0750   3464 3409      00882     dt .100,.9   ; la 
0752   3464 340A      00883     dt .100,.10  ; si bémol
0754   3464 340C      00884     dt .100,.12  ; do
0756   3464 340C      00885     dt .100,.12  ; do
0758   3464 340A      00886     dt .100,.10  ; si bémol
075A   3464 3409      00887     dt .100,.9   ; la 
075C   3464 3407      00888     dt .100,.7   ; sol
075E   3464 3405      00889     dt .100,.5   ; fa
0760   3464 3405      00890     dt .100,.5   ; fa
0762   3464 3407      00891     dt .100,.7   ; sol
0764   3464 3409      00892     dt .100,.9   ; la 
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0766   3496 3407      00893     dt .150,.7   ; sol
0768   3432 3405      00894     dt .50,.5   ; fa
076A   34C8 3405      00895     dt .200,.5   ; fa
                      00896 ;2ième mesure
076C   3464 3409      00897     dt .100,.9   ; la
076E   3464 3409      00898     dt .100,.9   ; la 
0770   3464 340A      00899     dt .100,.10  ; si bémol
0772   3464 340C      00900     dt .100,.12  ; do
0774   3464 340C      00901     dt .100,.12  ; do
0776   3464 340A      00902     dt .100,.10  ; si bémol
0778   3464 3409      00903     dt .100,.9   ; la 
077A   3464 3407      00904     dt .100,.7   ; sol
077C   3464 3405      00905     dt .100,.5   ; fa
077E   3464 3405      00906     dt .100,.5   ; fa
0780   3464 3407      00907     dt .100,.7   ; sol
0782   3464 3409      00908     dt .100,.9   ; la 
0784   3496 3407      00909     dt .150,.7   ; sol
0786   3432 3405      00910     dt .50,.5   ; fa
0788   34C8 3405      00911     dt .200,.5   ; fa
                      00912 ;3ième mesure    
078A   3464 3407      00913     dt .100,.7   ; sol
078C   3464 3407      00914     dt .100,.7   ; sol
078E   3464 3409      00915     dt .100,.9   ; la 
0790   3464 3405      00916     dt .100,.5   ; fa
0792   3464 3407      00917     dt .100,.7   ; sol
0794   3432 3409      00918     dt .50,.9   ; la 
0796   3432 340A      00919     dt .50,.10  ; si bémol
0798   3464 3409      00920     dt .100,.9   ; la 
079A   3464 3405      00921     dt .100,.5   ; fa
079C   3464 3407      00922     dt .100,.7   ; sol
079E   3432 3409      00923     dt .50,.9   ; la 
07A0   3432 340A      00924     dt .50,.10  ; si bémol
07A2   3464 3409      00925     dt .100,.9   ; la 
07A4   3464 3407      00926     dt .100,.7   ; sol
07A6   3464 3405      00927     dt .100,.5   ; fa
07A8   3464 3407      00928     dt .100,.7   ; sol
07AA   34C8 3400      00929     dt .200,.0   ; do
                      00930 ;4ième mesure
07AC   3464 3409      00931     dt .100,.9   ; la
07AE   3464 3409      00932     dt .100,.9   ; la 
07B0   3464 340A      00933     dt .100,.10  ; si bémol
07B2   3464 340C      00934     dt .100,.12  ; do
07B4   3464 340C      00935     dt .100,.12  ; do
07B6   3464 340C      00936     dt .100,.12  ; do
07B8   3464 340A      00937     dt .100,.10  ; si bémol
07BA   3464 3409      00938     dt .100,.9   ; la 
07BC   3464 3407      00939     dt .100,.7   ; sol
07BE   3464 3405      00940     dt .100,.5   ; fa
07C0   3464 3405      00941     dt .100,.5   ; fa
07C2   3464 3407      00942     dt .100,.7   ; sol
07C4   3496 3407      00943     dt .150,.7   ; sol
07C6   3432 3405      00944     dt .50,.5   ; fa
07C8   34C8 3405      00945     dt .200,.5   ; fa
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 21


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00946    
                      00947 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;    
39E4 1E7F             00948     end
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

A1                                RC0
A10                               RC3
A2                                RC0
A3                                RC0
A4                                RC1
A5                                RC1
A6                                RC1
A7                                RC2
A8                                RC2
A9                                RC2
ACAH                              00000001
ACAL                              00000000
ACBH                              00000003
ACBL                              00000002
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACKTIM                            00000007
ADCON0                            0000009D
ADCON1                            0000009E
ADCON2                            0000009F
ADD0                              00000000
ADD1                              00000001
ADD2                              00000002
ADD3                              00000003
ADD4                              00000004
ADD5                              00000005
ADD6                              00000006
ADD7                              00000007
ADFM                              00000007
ADFVR0                            00000000
ADFVR1                            00000001
ADGO                              00000001
ADIE                              00000006
ADIF                              00000006
ADNREF                            00000002
ADON                              00000000
ADPREF0                           00000000
ADPREF1                           00000001
ADRES                             0000009B
ADRESH                            0000009C
ADRESL                            0000009B
AHEN                              00000001
ALARM_TABLE                       SOLDOMI
ANSA0                             00000000
ANSA1                             00000001
ANSA2                             00000002
ANSA4                             00000004
ANSC0                             00000000
ANSC1                             00000001
ANSC2                             00000002
ANSC3                             00000003
ANSC4                             00000004
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

ANSC5                             00000005
ANSELA                            0000018C
ANSELC                            0000018E
BCL1IE                            00000003
BCL1IF                            00000003
BF                                00000000
BKA10                             00000002
BKA11                             00000003
BKA12                             00000004
BKA13                             00000005
BKA14                             00000006
BKA8                              00000000
BKA9                              00000001
BOEN                              00000004
BORCON                            00000116
BORFS                             00000006
BORRDY                            00000000
BSR                               00000008
BSR0                              00000000
BSR1                              00000001
BSR2                              00000002
BSR3                              00000003
BSR4                              00000004
BSR_SHAD                          00000FE6
BTN_PORT                          PORTA
BTN_TRIS                          TRISA
BTN_WPU                           WPUA
BUF0                              00000000
BUF1                              00000001
BUF2                              00000002
BUF3                              00000003
BUF4                              00000004
BUF5                              00000005
BUF6                              00000006
BUF7                              00000007
C                                 00000000
C1                                RC5
C10                               RC2
C2                                RC4
C3                                RC3
C4                                RC5
C5                                RC4
C6                                RC3
C7                                RC5
C8                                RC4
C9                                RC3
CCP1CON                           00000293
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 24


SYMBOL TABLE
  LABEL                             VALUE 

CCP1PPS                           00000E14
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000029A
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2PPS                           00000E15
CCP2X                             00000005
CCP2Y                             00000004
CCPIE                             00000002
CCPIF                             00000002
CCPR1                             00000291
CCPR1H                            00000292
CCPR1L                            00000291
CCPR2                             00000298
CCPR2H                            00000299
CCPR2L                            00000298
CDAFVR0                           00000002
CDAFVR1                           00000003
CE3K                              00000739
CFGS                              00000006
CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CHS4                              00000006
CKE                               00000006
CKP                               00000004
C_SHAD                            00000000
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DC_SHAD                           00000001
DHEN                              00000000
DISPLAY                           PORTC
DISP_LAT                          LATC
DISP_TRIS                         TRISC
DISP_WPU                          WPUC
DIVIDENDE                         ACAL
DIVISEUR                          ACBL
D_NOT_A                           00000005
ECCP1CON                          00000293
ECCP2CON                          0000029A
F                                 00000001
F2MHZ                             0000000C
F8MHZ                             0000000E
FREE                              00000004
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 25


SYMBOL TABLE
  LABEL                             VALUE 

FSR0                              00000004
FSR0H                             00000005
FSR0H_SHAD                        00000FE9
FSR0L                             00000004
FSR0L_SHAD                        00000FE8
FSR1                              00000006
FSR1H                             00000007
FSR1H_SHAD                        00000FEB
FSR1L                             00000006
FSR1L_SHAD                        00000FEA
FVRCON                            00000117
FVREN                             00000007
FVRRDY                            00000006
F_MSEC4                           1
F_SEC                             0
GCEN                              00000007
GIE                               00000007
GO                                00000001
GO_NOT_DONE                       00000001
HFIOFL                            00000003
HFIOFR                            00000004
HFIOFS                            00000000
HYMNE                             0000074D
ICDBK0H                           00000F9E
INDF0                             00000000
INDF1                             00000001
INLVLA                            0000038C
INLVLA0                           00000000
INLVLA1                           00000001
INLVLA2                           00000002
INLVLA3                           00000003
INLVLA4                           00000004
INLVLA5                           00000005
INLVLC                            0000038E
INLVLC0                           00000000
INLVLC1                           00000001
INLVLC2                           00000002
INLVLC3                           00000003
INLVLC4                           00000004
INLVLC5                           00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
INTPPS                            00000E10
IOCAF                             00000393
IOCAF0                            00000000
IOCAF1                            00000001
IOCAF2                            00000002
IOCAF3                            00000003
IOCAF4                            00000004
IOCAF5                            00000005
IOCAN                             00000392
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 26


SYMBOL TABLE
  LABEL                             VALUE 

IOCAN0                            00000000
IOCAN1                            00000001
IOCAN2                            00000002
IOCAN3                            00000003
IOCAN4                            00000004
IOCAN5                            00000005
IOCAP                             00000391
IOCAP0                            00000000
IOCAP1                            00000001
IOCAP2                            00000002
IOCAP3                            00000003
IOCAP4                            00000004
IOCAP5                            00000005
IOCCF                             00000399
IOCCF0                            00000000
IOCCF1                            00000001
IOCCF2                            00000002
IOCCF3                            00000003
IOCCF4                            00000004
IOCCF5                            00000005
IOCCN                             00000398
IOCCN0                            00000000
IOCCN1                            00000001
IOCCN2                            00000002
IOCCN3                            00000003
IOCCN4                            00000004
IOCCN5                            00000005
IOCCP                             00000397
IOCCP0                            00000000
IOCCP1                            00000001
IOCCP2                            00000002
IOCCP3                            00000003
IOCCP4                            00000004
IOCCP5                            00000005
IOCIE                             00000003
IOCIF                             00000000
IRCF0                             00000003
IRCF1                             00000004
IRCF2                             00000005
IRCF3                             00000006
LATA                              0000010C
LATA0                             00000000
LATA1                             00000001
LATA2                             00000002
LATA4                             00000004
LATA5                             00000005
LATC                              0000010E
LATC0                             00000000
LATC1                             00000001
LATC2                             00000002
LATC3                             00000003
LATC4                             00000004
LATC5                             00000005
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 27


SYMBOL TABLE
  LABEL                             VALUE 

LED_CONN                          00000700
LFIOFR                            00000001
LWLO                              00000005
MFIOFR                            00000002
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
NOT_BOR                           00000000
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RI                            00000002
NOT_RMCLR                         00000003
NOT_RWDT                          00000004
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_WPUEN                         00000007
ODA0                              00000000
ODA1                              00000001
ODA2                              00000002
ODA4                              00000004
ODA5                              00000005
ODC0                              00000000
ODC1                              00000001
ODC2                              00000002
ODC3                              00000003
ODC4                              00000004
ODC5                              00000005
ODCONA                            0000028C
ODCONC                            0000028E
OPA1CON                           00000511
OPA1EN                            00000007
OPA1PCH0                          00000000
OPA1PCH1                          00000001
OPA1SP                            00000006
OPA1UG                            00000004
OPA2CON                           00000515
OPA2EN                            00000007
OPA2PCH0                          00000000
OPA2PCH1                          00000001
OPA2SP                            00000006
OPA2UG                            00000004
OPTION_REG                        00000095
OSCCON                            00000099
OSCSTAT                           0000009A
OSCTUNE                           00000098
OSTS                              00000005
P                                 00000004
PCIE                              00000006
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 28


SYMBOL TABLE
  LABEL                             VALUE 

PCL                               00000002
PCLATH                            0000000A
PCLATH_SHAD                       00000FE7
PCON                              00000096
PEIE                              00000006
PEN                               00000002
PIE1                              00000091
PIE2                              00000092
PIE3                              00000093
PIR1                              00000011
PIR2                              00000012
PIR3                              00000013
PLLR                              00000006
PMADR                             00000191
PMADRH                            00000192
PMADRL                            00000191
PMCON1                            00000195
PMCON2                            00000196
PMDAT                             00000193
PMDATH                            00000194
PMDATL                            00000193
PORTA                             0000000C
PORTC                             0000000E
PPSLOCK                           00000E0F
PPSLOCKED                         00000000
PR2                               0000001B
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
QUOTIENT                          ACAH
RA0                               00000000
RA0PPS                            00000E90
RA1                               00000001
RA1PPS                            00000E91
RA2                               00000002
RA2PPS                            00000E92
RA3                               00000003
RA4                               00000004
RA4PPS                            00000E94
RA5                               00000005
RA5PPS                            00000E95
RC0                               00000000
RC0PPS                            00000EA0
RC1                               00000001
RC1PPS                            00000EA1
RC2                               00000002
RC2PPS                            00000EA2
RC3                               00000003
RC3PPS                            00000EA3
RC4                               00000004
RC4PPS                            00000EA4
RC5                               00000005
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 29


SYMBOL TABLE
  LABEL                             VALUE 

RC5PPS                            00000EA5
RCEN                              00000003
RD                                00000000
RESTE                             ACAL
RSEN                              00000001
R_NOT_W                           00000002
Reserved                          00000000
S                                 00000003
SBCDE                             00000002
SBOREN                            00000007
SCALE                             00000720
SCIE                              00000005
SCS0                              00000000
SCS1                              00000001
SDAHT                             00000003
SEN                               00000000
SERVO_CCPCON                      CCP2CON
SERVO_CCPRL                       CCPR2L
SERVO_DLY                         00000003
SERVO_LAT                         LATA
SERVO_NEUTRAL_PULSE               0000002F
SERVO_OUT_FN                      H'D'
SERVO_PERIOD                      0000009B
SERVO_PIN                         RA2
SERVO_PIN_PPS                     RA2PPS
SERVO_POS_BAS                     00000034
SERVO_POS_HAUT                    0000003C
SERVO_TRIS                        TRISA
SERVO_WPU                         WPUA
SLRA0                             00000000
SLRA1                             00000001
SLRA2                             00000002
SLRA4                             00000004
SLRA5                             00000005
SLRC0                             00000000
SLRC1                             00000001
SLRC2                             00000002
SLRC3                             00000003
SLRC4                             00000004
SLRC5                             00000005
SLRCONA                           0000030C
SLRCONC                           0000030E
SMP                               00000007
SOLDOMI                           00000746
SOSCR                             00000007
SPLLEN                            00000007
SSP1ADD                           00000212
SSP1ADD0                          00000000
SSP1ADD1                          00000001
SSP1ADD2                          00000002
SSP1ADD3                          00000003
SSP1ADD4                          00000004
SSP1ADD5                          00000005
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 30


SYMBOL TABLE
  LABEL                             VALUE 

SSP1ADD6                          00000006
SSP1ADD7                          00000007
SSP1BUF                           00000211
SSP1BUF0                          00000000
SSP1BUF1                          00000001
SSP1BUF2                          00000002
SSP1BUF3                          00000003
SSP1BUF4                          00000004
SSP1BUF5                          00000005
SSP1BUF6                          00000006
SSP1BUF7                          00000007
SSP1CON                           00000215
SSP1CON1                          00000215
SSP1CON2                          00000216
SSP1CON3                          00000217
SSP1IE                            00000003
SSP1IF                            00000003
SSP1MSK                           00000213
SSP1MSK0                          00000000
SSP1MSK1                          00000001
SSP1MSK2                          00000002
SSP1MSK3                          00000003
SSP1MSK4                          00000004
SSP1MSK5                          00000005
SSP1MSK6                          00000006
SSP1MSK7                          00000007
SSP1STAT                          00000214
SSPADD                            00000212
SSPBUF                            00000211
SSPCLKPPS                         00000E20
SSPCON                            00000215
SSPCON1                           00000215
SSPCON2                           00000216
SSPCON3                           00000217
SSPDATPPS                         00000E21
SSPEN                             00000005
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMSK                            00000213
SSPOV                             00000006
SSPSSPPS                          00000E22
SSPSTAT                           00000214
START_IOCF                        IOCAF
START_IOCN                        IOCAN
START_PIN                         RA5
START_PORT                        PORTA
START_TRIS                        TRISA
STATUS                            00000003
STATUS_SHAD                       00000FE4
STKOVF                            00000007
STKPTR                            00000FED
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 31


SYMBOL TABLE
  LABEL                             VALUE 

STKUNF                            00000006
SWDTEN                            00000000
T0CKIPPS                          00000E11
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKIPPS                          00000E12
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000018
T1GCON                            00000019
T1GGO_NOT_DONE                    00000003
T1GPOL                            00000006
T1GPPS                            00000E13
T1GSPM                            00000004
T1GSS0                            00000000
T1GSS1                            00000001
T1GTM                             00000005
T1GVAL                            00000002
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             0000001C
T2OUTPS0                          00000003
T2OUTPS1                          00000004
T2OUTPS2                          00000005
T2OUTPS3                          00000006
TIMESET_PIN                       RA4
TIMESET_PORT                      PORTA
TIMESET_TRIS                      TRISA
TIME_INCR                         00000EA6
TIME_MAX                          0000927C
TMR0                              00000015
TMR0CS                            00000005
TMR0IE                            00000005
TMR0IF                            00000002
TMR0SE                            00000004
TMR0_DLY                          00000006
TMR1                              00000016
TMR1CS0                           00000006
TMR1CS1                           00000007
TMR1GE                            00000007
TMR1GIE                           00000007
TMR1GIF                           00000007
TMR1H                             00000017
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             00000016
TMR1ON                            00000000
TMR1_DLY                          00008300
TMR2                              0000001A
TMR2IE                            00000001
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 32


SYMBOL TABLE
  LABEL                             VALUE 

TMR2IF                            00000001
TMR2ON                            00000002
TONE_CCPCON                       CCP1CON
TONE_CCPRL                        CCPR1L
TONE_LAT                          LATA
TONE_OUT_FN                       H'C'
TONE_PIN                          RA1
TONE_PIN_PPS                      RA1PPS
TONE_TRIS                         TRISA
TONE_WPU                          WPUA
TOSH                              00000FEF
TOSL                              00000FEE
TRIGSEL0                          00000004
TRIGSEL1                          00000005
TRIGSEL2                          00000006
TRIGSEL3                          00000007
TRISA                             0000008C
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA4                            00000004
TRISA5                            00000005
TRISC                             0000008E
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TSEN                              00000005
TSRNG                             00000004
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TUN5                              00000005
UA                                00000001
VREGCON                           00000197
VREGPM                            00000001
W                                 00000000
WCOL                              00000007
WDTCON                            00000097
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WDTPS4                            00000005
WPUA                              0000020C
WPUA0                             00000000
WPUA1                             00000001
WPUA2                             00000002
WPUA3                             00000003
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 33


SYMBOL TABLE
  LABEL                             VALUE 

WPUA4                             00000004
WPUA5                             00000005
WPUC                              0000020E
WPUC0                             00000000
WPUC1                             00000001
WPUC2                             00000002
WPUC3                             00000003
WPUC4                             00000004
WPUC5                             00000005
WR                                00000001
WREG                              00000009
WREG_SHAD                         00000FE5
WREN                              00000002
WRERR                             00000003
Z                                 00000002
ZCD1CON                           0000011C
ZCD1EN                            00000007
ZCD1INTN                          00000000
ZCD1INTP                          00000001
ZCD1OUT                           00000005
ZCD1POL                           00000004
ZCDIE                             00000004
ZCDIF                             00000004
Z_SHAD                            00000002
_.org_1_0076                      00000076
_.org_1_008C                      0000008C
_.org_1_00A4                      000000A4
_.org_1_00A6                      000000A6
_.org_1_012F                      0000012F
_.org_1_0142                      00000142
_.org_1_018E                      0000018E
_BOREN_NSLEEP                     00003DFF
_BOREN_OFF                        000039FF
_BOREN_ON                         00003FFF
_BOREN_SBODEN                     00003BFF
_BORV_HI                          00003BFF
_BORV_LO                          00003FFF
_CLKOUTEN_OFF                     00003FFF
_CLKOUTEN_ON                      000037FF
_CONFIG1                          00008007
_CONFIG2                          00008008
_CP_OFF                           00003FFF
_CP_ON                            00003F7F
_DEVID1                           00008006
_FOSC_ECH                         00003FFF
_FOSC_ECL                         00003FFD
_FOSC_ECM                         00003FFE
_FOSC_INTOSC                      00003FFC
_IDLOC0                           00008000
_IDLOC1                           00008001
_IDLOC2                           00008002
_IDLOC3                           00008003
_LPBOR_OFF                        00003FFF
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 34


SYMBOL TABLE
  LABEL                             VALUE 

_LPBOR_ON                         000037FF
_LVP_OFF                          00001FFF
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FBF
_MCLRE_ON                         00003FFF
_PLLEN_OFF                        00003EFF
_PLLEN_ON                         00003FFF
_PPS1WAY_OFF                      00003FFB
_PPS1WAY_ON                       00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FDF
_STVREN_OFF                       00003DFF
_STVREN_ON                        00003FFF
_WDTE_NSLEEP                      00003FF7
_WDTE_OFF                         00003FE7
_WDTE_ON                          00003FFF
_WDTE_SWDTEN                      00003FEF
_WRT_ALL                          00003FFC
_WRT_BOOT                         00003FFE
_WRT_HALF                         00003FFD
_WRT_OFF                          00003FFF
_ZCDDIS_OFF                       00003F7F
_ZCDDIS_ON                        00003FFF
__16F1703                         00000001
add_time                          0000007C
alarm                             000000C0
alarm_disable                     
alarm_loop                        000000CB
beep                              0000008E
cancellation                      000000B7
delay                             0000012C
disable_timer                     00000024
disp_test                         00000194
display_disable                   
display_enable                    
div15                             0000014B
div15_1                           00000157
div15_2                           0000015E
div15_3                           00000165
div15_4                           0000016C
div15_exit                        00000171
drop                              
dup                               
eveil_normal                      00000059
flags                             00000008
infusion                          00000094
init                              00000029
isr                               00000004
isr_exit                          00000028
isr_timer0                        0000001E
isr_timer1                        0000000D
last_pos                          0000000A
light_segment                     000000FE
MPASM 5.68                           MAT.ASM   9-21-2016  19:33:58         PAGE 35


SYMBOL TABLE
  LABEL                             VALUE 

main                              0000004B
msec4                             00000006
oeuf_loop                         000001B3
over                              
pause_msec                        0000018C
popw                              
pushw                             
pwm_loop                          000000AB
pwm_period                        00000007
rst                               00000000
secondes                          00000005
self_test                         00000190
servo_pos                         0000010F
servo_pos_exit                    0000013D
servo_pos_loop                    00000122
servo_test                        000001A8
stack                             00000000
start_msec4_tmr                   00000183
start_timer                       00000173
temp                              00000009
test_tmr1                         00000008
timeout                           000000BA
timeset                           00000068
timeset_exit                      00000084
timeset_wait_btn                  0000006B
tone                              000000DC
tone_test                         000001A3
trempage                          00000004
un_oeuf                           000001AD
wait_loop                         0000009A

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    54 reported,     0 suppressed

